
sysconf_core:
	rm -rf ./src/core/core_features.h a.out
	echo "#ifndef CORE_FEATURES_H" >> ./src/core/core_features.h
	echo "#define CORE_FEATURES_H" >> ./src/core/core_features.h
	$(call testing_c,test_alloca.c,alloca,HAVE_ALLOCA,./src/core/core_features.h)
	$(call testing_c,test_mmap.c,mmap,HAVE_MMAP,./src/core/core_features.h)
	$(call testing_c,test_strsep.c,strsep,HAVE_STRSEP,./src/core/core_features.h)
ifneq ($(DEBUG),)
	echo "#define HAVE_DEBUG 1" >> ./src/core/core_features.h
else
	echo "#define HAVE_DEBUG 0" >> ./src/core/core_features.h
endif
	echo "#endif /* !CORE_FEATURES_H */" >> ./src/core/core_features.h
	rm -rf a.out
